git
git
git
git
git
git
clear
require("tidyverse")
install.packages("tidyverse")
require("tidyverse")
library("tidyverse")
install.packages("tidyverse")
library("tidyverse")
install.packages("tidyverse")
source('~/Google Drive/postDoctoralWork/2018 defence contact forces/EMG-assisted results/stats/contact-forces-results/main.R', echo=TRUE)
library("tidyverse")
require("ggplot2"); require("tibble");require("tidyr")
require("ggplot2"); require("tibble"); require("tidyr"); require("readr"); require("purrr"); require("dplyr");
getwd()
list.files()
install.library("forcats")
install.packages("forcats")
lib()
require("ggplot2"); require("tibble"); require("tidyr"); require("readr"); require("purrr"); require("dplyr"); require("forcats")
wd <- "~/Google Drive/postDoctoralWork/2018 defence contact forces/EMG-assisted results/stats/contact-forces-results/only_armour_type/"
fileNames <- list.files(pattern="*.csv")
fileNames <- list.files(path = wd, pattern="*.csv")
armour_type_dir <- "~/Google Drive/postDoctoralWork/2018 defence contact forces/EMG-assisted results/stats/contact-forces-results/only_armour_type/"
armour_type_dir <- "~/Google Drive/postDoctoralWork/2018 defence contact forces/EMG-assisted results/stats/contact-forces-results/only_armour_type/"
fileNames <- list.files(path = armour_type_dir, pattern="*.csv")
dir <- list.files(path = armour_type_dir, pattern="*.csv")
dir
fileNames <- dir(path = armour_type_dir, pattern="*.csv")
fileNames
fileNames <- dir(path = armour_type_dir, pattern="*.csv", full.names = TRUE)
fileNames
armour_type_dir <- "~/Google Drive/postDoctoralWork/2018 defence contact forces/EMG-assisted results/stats/contact-forces-results/only_armour_type"
fileNames <- dir(path = armour_type_dir, pattern="*.csv", full.names = TRUE)
with(fileNames, exp.data = readr::read.csv)
for(i in fileNames){
# Get name of variable
t <- regexpr(".csv", fileNames[i])
varName <- substr(fileNames[i], 1, t-1)
# Read .csv file
exp.data = readr::read.csv(i)
# exp.data <- exp.data%>%
#   mutate(country = factor(country),
#          continent = factor(continent))
# str(gapminder)
}
fileNames
fileNames <- dir(path = armour_type_dir, pattern="*.csv")
fullFileNames <- dir(path = armour_type_dir, pattern="*.csv", full.names = TRUE)
exp.data = readr::read.csv(i)
exp.data = read.csv(i)
View(exp.data)
t <- regexpr(".csv", fileNames[i])
varName <- substr(fileNames[i], 1, t-1)
y <- 1
y <- 1
t <- regexpr(".csv", fileNames[y])
varName <- substr(fileNames[y], 1, t-1)
exp.data = as_tibble(read.csv(i))
exp.data
df_final <- gather(data2shape, key = "fileNames[[1]]", value, -Participants)
df_final <- gather(exp.data, key = "fileNames[[1]]", value, -Participants)
View(df_final)
df_final <- gather(exp.data, key = fileNames[[1]], value, -Participants)
View(df_final)
df_final <- gather(exp.data, key = fileNames[1], value, -Participants)
df_final <- gather(exp.data, key = armour_type, fileNames[1], -Participants)
df_final <- gather(exp.data, key = armour_type, value = fileNames[1], -Participants)
df_final <- gather(exp.data, key = armour_type, value = fileNames(1), -Participants)
df_final <- gather(exp.data, key = armour_type, value = paste(fileNames[[1]], -Participants)
df_final <- gather(exp.data, key = armour_type, value = paste(fileNames[[1]]), -Participants)
str(df_final)
df_final <- gather(exp.data, key = armour_type, value = dataName, -Participants)
df_final <- df_final %>%
rename(dataName = fileNames[1])
df_final <- df_final %>%
rename(dataName = fileNames[[1]])
df_final <- df_final %>%
vars_rename(names(df_final), dataName = fileNames[[1]])
install.packages("tidyselect")
require("ggplot2"); require("tibble"); require("tidyr"); require("readr"); require("purrr"); require("dplyr"); require("forcats"); require("tidyselect")
df_final <- df_final %>%
+     vars_rename(names(df_final), dataName = fileNames[[1]])
df_final <- df_final %>%
+     vars_rename(names(df_final), fileNames[[1]] = dataName)
df_final <- df_final %>%
vars_rename(names(df_final), fileNames[[1]] = dataName)
varName = fileNames[[1]]
varName = fileNames[[1]][[1:15]]
varName = fileNames[[1]][[1:10]]
varName = fileNames[[1]][1:10]
varName = fileNames[[1]](1:10)
varName = "lateralKJCF"
df_final <- df_final %>%
vars_rename(names(df_final), dataName = varName)
df_final <- df_final %>%
vars_rename(names(df_final), dataName = varName)
names(df_final)
df_final <- df_final %>%
vars_rename(names(df_final), varName = dataName)
df_final <- df_final %>%
vars_select(names(df_final), varName = dataName)
varName = character("lateralKJCF")
varName = character(lateralKJCF)
varName = chr(lateralKJCF)
varName = as.character(varName)
varName
is.character(varName)
df_final <- df_final %>%
vars_select(names(df_final), varName = dataName)
df_final <- df_final %>%
vars_select(names(df_final), dataName = varName)
df_final <- df_final %>%
rename(df_final, dataName = varName)
df_final <- df_final %>%
rename(df_final, dataName = varName, everything())
df_final <- df_final %>%
select(df_final, dataName = varName, everything())
df_final <- df_final %>%
select(df_final, varName = dataName, everything())
df_final <- select(df_final, dataName = varName)
df_final <- select(df_final, varName = dataName)
View(df_final)
df_final <- gather(exp.data, key = armour_type, value = dataName, -Participants)
df_final <- rename(df_final, varName = dataName)
View(df_final)
df_final <- df_final %>%
rename(df_final, !!dataName := varName)
df_final <- df_final %>%
rename(df_final, dataName := varName)
df_final <- df_final %>%
mutate(df_final, !!varName = dataName)
df_final <- df_final %>%
mutate(df_final, !!varName := dataName)
df_final <- df_final %>%
rename(df_final, !!varName := dataName)
df_final <- df_final %>%
rename(!!varName := dataName)
df_final <- df_final %>%
mutate(!!varName := dataName)
View(df_final)
rename(df_final, !!varName := varName)
View(df_final)
df_final <- df_final %>%
rename(df_final, !!varName := varName)
df_final <- rename(df_final, !!varName := varName)
View(df_final)
df_final <- gather(exp.data, key = armour_type, value = !!varName, -Participants)
View(df_final)
df_final <- 0
df_final <- gather(exp.data, key = armour_type, value = !!varName, -Participants)
View(df_final)
View(df_final)
df_final_factors %>%
parse_factor(df_final, armour_levels)
df_final_factors <- df_final %>%
parse_factor(df_final, armour_levels)
require("ggplot2"); require("tibble"); require("tidyr"); require("readr"); require("purrr"); require("dplyr"); require("forcats"); require("tidyselect")
df_final_factors <- df_final %>%
parse_factor(df_final, armour_levels)
armour_levels = c("CORE", "CRYE", "TBAS", "TYR");
speed_levels <- c("Moderate", "Fast");
load_levels <- c("No_load", "15kg", "30kg");
df_final_factors <- df_final %>%
parse_factor(df_final, armour_levels)
df_final_factors <-  factor(df_final, armour_levels)
df_final_factors
df_final_factors <-  df_final %>% factor(df_final, armour_levels)
armour_levels = as.factor(c("CORE", "CRYE", "TBAS", "TYR"));
df_final <- df_final %>%
separate(armour_type, into = c("Armour", "Load", "Speed"), sep = c('\w\d','\d{2}' ,-4))
df_final <- df_final %>%
separate(armour_type, into = c("Armour", "Load", "Speed"), sep = c("\w\d","\d{2}" ,-4))
df_final <- df_final %>%
separate(armour_type, into = c("Armour", "Load", "Speed"), sep = c("\\w\d","\\d{2}" ,-4))
df_final <- df_final %>%
separate(armour_type, into = c("Armour", "Load", "Speed"), sep = c("\\w\\d","\\d{2}" ,-4))
View(df_final)
pattern <- "CORE15_fast"
grep(pattern, strings, value = TRUE)
strings <- "CORE15_fast"
pattern <- "\\w\\W"
grep(pattern, strings, value = TRUE)
grep(pattern, strings)
pattern <- "\\w\\d"
grep(pattern, strings)
pattern <- "\\w\\d{2}"
grep(pattern, strings)
pattern <- "\\w\\d{3}"
grep(pattern, strings)
pattern <- "\\w\\d\\d"
grep(pattern, strings)
pattern <- "\\d{2}"
grep(pattern, strings)
pattern <- "\\d*"
grep(pattern, strings)
pattern <- "\\d\\p"
grep(pattern, strings)
pattern <- "\\d\\W"
grep(pattern, strings)
pattern <- "\\d:punct:"
grep(pattern, strings)
pattern <- "\\d[:punct:]"
grep(pattern, strings)
pattern <- "[:punct:]"
grep(pattern, strings)
grep(pattern, strings, value = TRUE)
pattern <- "\\d[:punct:]"
grep(pattern, strings, value = TRUE)
pattern <- "\\d{2}"
grep(pattern, strings, value = TRUE)
new_name<- grep(pattern, strings, value = TRUE)
pattern <- "\\D{2}"
new_name<- grep(pattern, strings, value = TRUE)
new_name
grep(pattern, strings, value = TRUE)
pattern <- "\\w\\d"
grep(pattern, strings, value = TRUE)
pattern <- "\\w"
grep(pattern, strings, value = TRUE)
pattern <- "\\w\W"
pattern <- "\\w\\W"
grep(pattern, strings, value = TRUE)
pattern <- "\w"
pattern <- \w
pattern <- w
pattern <- "\w"
pattern <- "\\w"
speed <- strsplit(strings, "_")
speed
speed[2]
speed[[2]
]
speed(2)
speed
speed <- unlist(strsplit(strings, "_"))
speed
speed[2]
unlist[2](strsplit(df_final$armour_type, "_"))
pattern <- "\\w[[:punct:]]"
grep(pattern, strings, value = TRUE)
grep(pattern, strings)
grep(pattern, strings, value = TRUE)
pattern <- "[[:punct:]]"
grep(pattern, strings, value = TRUE)
strings = as.character("CORE15_fast")
grep(pattern, strings, value = TRUE)
pattern <- "[[:digit:]]"
grep(pattern, strings, value = TRUE)
grep(pattern, load_levels, value = TRUE)
grep(pattern, load_levels)
unlist(strsplit(df_final$armour_type, "_"))[2]
df_final <- gather(exp.data, key = armour_type, value = !!varName, -Participants)
unlist(strsplit(df_final$armour_type, "_"))[2]
unlist(strsplit(df_final$armour_type[:], "_"))[2]
unlist(strsplit(df_final$armour_type, "_"))[[2]]
unlist(strsplit(df_final$armour_type, "_"))[300]
unlist(strsplit(df_final$armour_type, "_"))
strsplit(df_final$armour_type, "_"))
strsplit(df_final$armour_type, "_")
strsplit(df_final$armour_type, "_")[2]
strsplit(df_final$armour_type, "_")[[2]]
strsplit(df_final$armour_type, "_")[[2]][1]
strsplit(strsplit(df_final$armour_type, "_")[[2]][1],"\\d")
unlist(strsplit(strsplit(df_final$armour_type, "_")[[2]][1],"\\d"))
unlist(strsplit(strsplit(df_final$armour_type, "_")[[2]][1],"\\d"))[1]
df_final <- gather(exp.data, key = armour_type, value = !!varName, -Participants)
# Add extra columns
df_final$armour <- as.factor(gl(4, 80, labels = c("CORE", "CRYE", "TBAS", "TYR")))
df_final$speed <- as.factor(gl(2, 20, labels = c("Moderate", "Fast")))
df_final$mass <- as.factor(gl(2, 40, labels = c("15kg", "30kg")))
df_final$L1 <- NULL
View(df_final)
with(fileNames, exp.data = readr::read.csv(fileNames))
with(fullFileNames, exp.data = readr::read.csv(fileNames))
with(fileNames, exp.data = readr::read.csv(fullFileNames))
with(fileNames, data = readr::read.csv(fullFileNames))
with(fileNames, data = read.csv(fullFileNames))
